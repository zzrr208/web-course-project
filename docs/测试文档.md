# 测试文档.md
一、测试目的
本测试文档用于验证 Python 爬虫与电影数据分析系统各功能模块是否能够正常运行，结果是否正确，系统是否满足课程设计的功能要求。
通过测试，确保系统在数据爬取、数据库存储、查询和导出等方面运行稳定。

二、测试环境
项目	说明
操作系统	Windows / Linux / macOS
Python 版本	Python 3.8 及以上
数据库	SQLite
测试工具	命令行终端
三、测试内容与测试方法
3.1 爬虫模块测试（spider.py）

测试目的
验证爬虫程序是否能够成功抓取电影数据，并生成结构化数据文件。

测试步骤
在项目目录下运行命令：
python spider.py
观察程序运行过程是否报错
检查是否生成 films_2000_2024.json 文件

预期结果
程序正常运行，无异常退出
成功生成 films_2000_2024.json 文件
数据条数大于 1000 条（实际测试为 4800+ 条）

测试结果
✔ 测试通过

3.2 数据库模块测试（db.py）
测试目的
验证电影数据是否能够正确导入 SQLite 数据库，并完成基本统计查询。

测试步骤
确保存在 films_2000_2024.json 文件
运行命令：
python db.py
观察控制台输出信息

预期结果
成功创建 films.db 数据库文件
数据成功导入数据库
输出电影总数量、年份范围及统计信息
测试结果（示例）

Inserted new rows: 4803
Total rows in DB: 4803
Year range: 2000 - 2024


✔ 测试通过

3.3 查询功能测试（query.py）
测试目的
验证用户输入年份后，系统能否正确返回该年份的电影数据。

测试步骤
运行命令：
python query.py
按提示输入年份（如：2024）
观察查询结果

预期结果
系统正确显示该年份的电影数量
输出该年份的部分电影名称及链接
输入非法年份时给出提示信息

测试结果
✔ 查询结果正确
✔ 交互逻辑正常
✔ 测试通过

3.4 数据导出功能测试（export_csv.py）
测试目的
验证数据库中的电影数据是否能够成功导出为 CSV 文件。

测试步骤
运行命令：
python export_csv.py
检查项目目录是否生成 films.csv 文件
使用 Excel 或其他表格软件打开文件

预期结果
成功生成 films.csv 文件
CSV 文件包含电影名称、年份、来源和链接字段
文件内容可正常打开，无乱码

测试结果
✔ 导出成功
✔ 数据完整
✔ 测试通过

四、测试结果汇总
模块	测试内容	结果
爬虫模块	数据抓取与文件生成	通过
数据库模块	数据入库与统计	通过
查询模块	按年份交互式查询	通过
导出模块	CSV 文件导出	通过
五、测试结论
通过对系统各功能模块的测试，可以确认：
系统功能完整，运行稳定
各模块之间衔接正常
能够满足课程设计对爬虫、数据库和数据处理的要求
系统测试结果符合预期，可用于课程设计提交与演示。
